<!-- 
 ____  _       _            _    ___  _  _   
|  _ \| |     | |          | |  / _ \| || |  
| |_) | | __ _| | _____  __| | | (_) | || |_ 
|  _ <| |/ _` | |/ / _ \/ _` |  > _ <|__   _|
| |_) | | (_| |   <  __/ (_| | | (_) |  | |  
|____/|_|\__,_|_|\_\___|\__,_|  \___/   |_| 

2012

v:alpha1
 -->

<html manifest="cache.manifest">


<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="style.css" media="screen" /></head>
	<script src="OfflineLocal.js"></script>

<body onload=" onload()" onKeyPress="boutona(event)" onclic="saveData()">


<div class="cnt">
	<table id="liste">
		<tr>
			<td><a class="add btn" href="javascript:cnt[1]=p1(1,1);"> + </a></td>
			<td><a class="light btn"href="javascript:cnt[1]=p1(-1,1);"> - </a></td>
			<td>Equipe A</td>
			<td> <input type="text" id="i1" value="1"> </td>
			<td><span id="e1" class="re">0</span></td>
			<td><span id="n1" class="rn">0</span></td>
		</tr>
		<tr>
			<td><a class="add btn" href="javascript:cnt[2]=p1(1,2);"> + </a></td>
			<td><a class="light btn"href="javascript:cnt[2]=p1(-1,2);"> - </a></td>
			<td>Equipe Z</td>
			<td> <input type="text" id="i2" value="1"> </td>
			<td><span id="e2" class="re">0</span></td>
			<td><span id="n2" class="rn">0</span></td>
		</tr>
		<tr>
			<td><a class="add btn" href="javascript:cnt[3]=p1(1,3);"> + </a></td>
			<td><a class="light btn"href="javascript:cnt[3]=p1(-1,3);"> - </a></td>
			<td>Equipe E</td>
			<td> <input type="text" id="i3" value="1"> </td>
			<td><span id="e3" class="re">0</span></td>
			<td><span id="n3" class="rn">0</span></td>
		</tr>
	</table>

	<a class="edit btn" onclick="reset();"> Reset </a>
</div>



<script type="text/javascript">
	//var nj = prompt("Nombre de joueurs");
	//tableau des lettres

	var lettres= {};

	lettres[1]='a';
	lettres[2]='z';
	lettres[3]='e';
	lettres[4]='r';

	var cnt = {};
	for (var i = 1; i <10; i++) {
		cnt[i]=0;	
	}
	new_team(4);

	// génération de l'insterface
	function new_team(id){ 
		// tr
		var tr = document.createElement('tr');
		tr.id = 'tr'+id;
		document.getElementById('liste').appendChild(tr);
		// td
		new_td();
		//bouton +
		var new_bp = document.createElement('a');
		new_bp.className="add btn";
		new_bp.href= '"javascript:cnt['+ id + ']p1(1,'+ id +');"';
		var newLinkTextp = document.createTextNode("+");
		new_bp.appendChild(newLinkTextp);
		document.getElementById(tr.id ).lastChild.appendChild(new_bp) ;
		//td
		new_td();
		// bouton -
		var new_bm = document.createElement('a');
		new_bm.className="light btn";
		new_bm.href= '"javascript:cnt['+ id + ']p1(-1,'+ id +');"';
		var newLinkTextm = document.createTextNode("-");
		new_bm.appendChild(newLinkTextm);
		document.getElementById(tr.id ).lastChild.appendChild(new_bm) ;
		//td
		new_td();
		// nom equipe
		var nom_equipe = document.createTextNode('Equipe ' + lettres[id]);
		document.getElementById(tr.id ).lastChild.appendChild(nom_equipe) ;
		//td
		new_td();
		// input
		var new_in = document.createElement('input');
		new_in.type="text";
		new_in.id='i'+id;
		new_in.value="1";
		document.getElementById(tr.id ).lastChild.appendChild(new_in) ;
		//td
		new_td();
		new_span('e'+id,"re");
		//td
		new_td();
		new_span('n'+id,"rn");

	}
	function new_td(){
		var td = document.createElement('td');
		document.getElementById('liste').lastChild.appendChild(td);
	}
	function new_span(id,cla){
		var span = document.createElement('span');
		var zero = document.createTextNode('0');

		span.id=id;
		span.className=cla;
		span.appendChild(zero);
		document.getElementById('liste').lastChild.lastChild.appendChild(span);
	}
	
	function p1(increment,i_){
		//var a = increment;
		cnt[i_] =parseInt( cnt[i_])+increment;
		var c ='e'+i_;
		var f = 'i' + i_;
		var g = 'n'+ i_;

		var n1=document.getElementById(f).value;
		var q_per_p = cnt[i_] /  n1;
		document.getElementById(c).innerHTML=cnt[i_];
		document.getElementById(g).innerHTML=q_per_p;
		
		saveData();
		return cnt[i_];

	}


	function reset(){
	for(var i=1; i<window.localStorage.length+1;i++)
		{
		window.localStorage.setItem(i, 0);
		var vare = 'e'+i;
		document.getElementById(vare).innerHTML ="0";
		

		}
	var e1 =0;
	var e2 =0;
	var e3 =0;
	
	alert('clique sur ok et puis F5');
	
	//document.getElementById("e2").innerHTML ="0";
	//document.getElementById("e3").innerHTML ="0";
	}



	// gestion clavier


	function r2(equip){
		equip +=1;
		idelem = '"'+equip+"'";
		document.getElementById("e2").innerHTML=equip;
		//alert(a);
		//alert('coucou');
		a="equip";
		
		return equip;

	}
</script>

<script>



function boutona(e){
	var touche = (window.Event) ? e.which : e.keyCode;
	for(var ib=1; ib<26; ib++){
		if (String.fromCharCode(touche)==lettres[ib])
			{
				javascript:cnt[ib]=p1(1,ib);
			}

	}
	saveData();
}
document.boutona;
</script>
</body>
</html>

